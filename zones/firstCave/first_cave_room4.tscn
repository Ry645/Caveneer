[gd_scene load_steps=19 format=4 uid="uid://dolgejm3c3elr"]

[ext_resource type="PackedScene" uid="uid://d25x3ipsgstln" path="res://player/player.tscn" id="1_hnr73"]
[ext_resource type="Script" path="res://lever/generateLeverSignals.gd" id="1_vtg6n"]
[ext_resource type="Texture2D" uid="uid://budlryyj8kdry" path="res://sprites/tileSets/void/voidTile.png" id="2_mqs66"]
[ext_resource type="TileSet" uid="uid://ck3t1nt4yqdo2" path="res://tilesets/rockFloorTileset.tres" id="3_86ohr"]
[ext_resource type="Script" path="res://dualGridSystem/TileMapDual.gd" id="4_gc4eq"]
[ext_resource type="PackedScene" uid="uid://do3ylcqvoufi5" path="res://border/border.tscn" id="5_dw3cu"]
[ext_resource type="PackedScene" uid="uid://bcxah2hbl0gs7" path="res://lever/lever.tscn" id="6_e4kec"]
[ext_resource type="PackedScene" uid="uid://c1igbdcmltw5r" path="res://lever/lever_manager.tscn" id="7_7rso4"]
[ext_resource type="PackedScene" uid="uid://chm7t41n5lmqf" path="res://door/door.tscn" id="8_hn7px"]
[ext_resource type="PackedScene" uid="uid://mg3k4hmnwndq" path="res://lever/toggle_area.tscn" id="9_6uwq4"]
[ext_resource type="Shader" path="res://outline/outline.gdshader" id="9_xbp4n"]

[sub_resource type="CanvasItemMaterial" id="CanvasItemMaterial_p4fdj"]
light_mode = 2

[sub_resource type="ShaderMaterial" id="ShaderMaterial_j5plf"]
shader = ExtResource("9_xbp4n")
shader_parameter/color = Color(1, 1, 1, 1)
shader_parameter/width = 1.0
shader_parameter/pattern = 1
shader_parameter/inside = false
shader_parameter/add_margins = true
shader_parameter/process = false

[sub_resource type="ShaderMaterial" id="ShaderMaterial_h0mt4"]
shader = ExtResource("9_xbp4n")
shader_parameter/color = Color(1, 1, 1, 1)
shader_parameter/width = 1.0
shader_parameter/pattern = 1
shader_parameter/inside = false
shader_parameter/add_margins = true
shader_parameter/process = false

[sub_resource type="ShaderMaterial" id="ShaderMaterial_4voo0"]
shader = ExtResource("9_xbp4n")
shader_parameter/color = Color(1, 1, 1, 1)
shader_parameter/width = 1.0
shader_parameter/pattern = 1
shader_parameter/inside = false
shader_parameter/add_margins = true
shader_parameter/process = false

[sub_resource type="ShaderMaterial" id="ShaderMaterial_l07l4"]
shader = ExtResource("9_xbp4n")
shader_parameter/color = Color(1, 1, 1, 1)
shader_parameter/width = 1.0
shader_parameter/pattern = 1
shader_parameter/inside = false
shader_parameter/add_margins = true
shader_parameter/process = false

[sub_resource type="ShaderMaterial" id="ShaderMaterial_x60cv"]
shader = ExtResource("9_xbp4n")
shader_parameter/color = Color(1, 1, 1, 1)
shader_parameter/width = 1.0
shader_parameter/pattern = 1
shader_parameter/inside = false
shader_parameter/add_margins = true
shader_parameter/process = false

[sub_resource type="ShaderMaterial" id="ShaderMaterial_lyn8m"]
shader = ExtResource("9_xbp4n")
shader_parameter/color = Color(1, 1, 1, 1)
shader_parameter/width = 1.0
shader_parameter/pattern = 1
shader_parameter/inside = false
shader_parameter/add_margins = true
shader_parameter/process = false

[node name="room4" type="Node2D"]
script = ExtResource("1_vtg6n")

[node name="player" parent="." instance=ExtResource("1_hnr73")]
position = Vector2(4447, 535)
hasDebugMovement = true

[node name="ParallaxBackground" type="ParallaxBackground" parent="."]

[node name="ParallaxLayer" type="ParallaxLayer" parent="ParallaxBackground"]
motion_mirroring = Vector2(1, 1)

[node name="Sprite2D" type="Sprite2D" parent="ParallaxBackground/ParallaxLayer"]
position = Vector2(131, 131)
scale = Vector2(8.375, 8.3125)
texture = ExtResource("2_mqs66")

[node name="caveFloor" type="TileMapLayer" parent="."]
material = SubResource("CanvasItemMaterial_p4fdj")
tile_map_data = PackedByteArray("AACKABIAAAACAAEAAACKABMAAAACAAEAAACKABEAAAACAAEAAACLABEAAAACAAEAAACKABAAAAACAAEAAACKAA8AAAACAAEAAACJAA4AAAACAAEAAACKAA4AAAACAAEAAACLAA4AAAACAAEAAACMAA4AAAACAAEAAACJAA0AAAACAAEAAACKAA0AAAACAAEAAACLAA0AAAACAAEAAACMAA0AAAACAAEAAACJAAwAAAACAAEAAACKAAwAAAACAAEAAACLAAwAAAACAAEAAACMAAwAAAACAAEAAACJAAsAAAACAAEAAACKAAsAAAACAAEAAACLAAsAAAACAAEAAACMAAsAAAACAAEAAACJAAoAAAACAAEAAACKAAoAAAACAAEAAACLAAoAAAACAAEAAACMAAoAAAACAAEAAACJAAkAAAACAAEAAACKAAkAAAACAAEAAACLAAkAAAACAAEAAACMAAkAAAACAAEAAACJAAgAAAACAAEAAACKAAgAAAACAAEAAACLAAgAAAACAAEAAACMAAgAAAACAAEAAACJAAcAAAACAAEAAACKAAcAAAACAAEAAACLAAcAAAACAAEAAACMAAcAAAACAAEAAACJAAYAAAACAAEAAACKAAYAAAACAAEAAACLAAYAAAACAAEAAACMAAYAAAACAAEAAACLABAAAAACAAEAAACLAA8AAAACAAEAAACLABIAAAACAAEAAACLABMAAAACAAEAAACJAAUAAAACAAEAAACKAAUAAAACAAEAAACLAAUAAAACAAEAAACMAAUAAAACAAEAAACJAAQAAAACAAEAAACKAAQAAAACAAEAAACLAAQAAAACAAEAAACMAAQAAAACAAEAAACIAA8AAAACAAEAAACJAA8AAAACAAEAAACIABAAAAACAAEAAACJABAAAAACAAEAAACIABEAAAACAAEAAACJABEAAAACAAEAAACIABIAAAACAAEAAACJABIAAAACAAEAAACIABMAAAACAAEAAACJABMAAAACAAEAAACMAA8AAAACAAEAAACNAA8AAAACAAEAAACMABAAAAACAAEAAACNABAAAAACAAEAAACMABEAAAACAAEAAACNABEAAAACAAEAAACMABIAAAACAAEAAACNABIAAAACAAEAAACMABMAAAACAAEAAACNABMAAAACAAEAAACOABAAAAACAAEAAACOABEAAAACAAEAAACOABIAAAACAAEAAACPABEAAAACAAEAAACHABAAAAACAAEAAACHABEAAAACAAEAAACHABIAAAACAAEAAACGABEAAAACAAEAAACJABQAAAACAAEAAACKABQAAAACAAEAAACLABQAAAACAAEAAACMABQAAAACAAEAAACKABUAAAACAAEAAACLABUAAAACAAEAAACGABAAAAACAAEAAACPABAAAAACAAEAAACOAA8AAAACAAEAAACHAA8AAAACAAEAAACIAA4AAAACAAEAAACNAA4AAAACAAEAAACGAPf/AAACAAEAAACGAPj/AAACAAEAAACGAPn/AAACAAEAAACHAPf/AAACAAEAAACHAPj/AAACAAEAAACHAPn/AAACAAEAAACIAPf/AAACAAEAAACIAPj/AAACAAEAAACIAPn/AAACAAEAAACJAPL/AAACAAEAAACJAPP/AAACAAEAAACJAPT/AAACAAEAAACJAPX/AAACAAEAAACJAPb/AAACAAEAAACJAPf/AAACAAEAAACJAPj/AAACAAEAAACJAPn/AAACAAEAAACKAPL/AAACAAEAAACKAPP/AAACAAEAAACKAPT/AAACAAEAAACKAPX/AAACAAEAAACKAPb/AAACAAEAAACKAPf/AAACAAEAAACKAPj/AAACAAEAAACKAPn/AAACAAEAAACLAPL/AAACAAEAAACLAPP/AAACAAEAAACLAPT/AAACAAEAAACLAPX/AAACAAEAAACLAPb/AAACAAEAAACLAPf/AAACAAEAAACLAPj/AAACAAEAAACLAPn/AAACAAEAAACMAPL/AAACAAEAAACMAPP/AAACAAEAAACMAPT/AAACAAEAAACMAPX/AAACAAEAAACMAPb/AAACAAEAAACMAPf/AAACAAEAAACMAPj/AAACAAEAAACMAPn/AAACAAEAAACNAPf/AAACAAEAAACNAPj/AAACAAEAAACNAPn/AAACAAEAAACOAPf/AAACAAEAAACOAPj/AAACAAEAAACOAPn/AAACAAEAAACPAPf/AAACAAEAAACPAPj/AAACAAEAAACPAPn/AAACAAEAAACJAPr/AAACAAEAAACJAPv/AAACAAEAAACJAPz/AAACAAEAAACJAP3/AAACAAEAAACJAP7/AAACAAEAAACJAP//AAACAAEAAACJAAAAAAACAAEAAACJAAEAAAACAAEAAACJAAIAAAACAAEAAACJAAMAAAACAAEAAACKAPr/AAACAAEAAACKAPv/AAACAAEAAACKAPz/AAACAAEAAACKAP3/AAACAAEAAACKAP7/AAACAAEAAACKAP//AAACAAEAAACKAAAAAAACAAEAAACKAAEAAAACAAEAAACKAAIAAAACAAEAAACKAAMAAAACAAEAAACLAPr/AAACAAEAAACLAPv/AAACAAEAAACLAPz/AAACAAEAAACLAP3/AAACAAEAAACLAP7/AAACAAEAAACLAP//AAACAAEAAACLAAAAAAACAAEAAACLAAEAAAACAAEAAACLAAIAAAACAAEAAACLAAMAAAACAAEAAACMAPr/AAACAAEAAACMAPv/AAACAAEAAACMAPz/AAACAAEAAACMAP3/AAACAAEAAACMAP7/AAACAAEAAACMAP//AAACAAEAAACMAAAAAAACAAEAAACMAAEAAAACAAEAAACMAAIAAAACAAEAAACMAAMAAAACAAEAAACJAPH/AAACAAEAAACKAPH/AAACAAEAAACLAPH/AAACAAEAAACMAPH/AAACAAEAAACJAPD/AAACAAEAAACLAPD/AAACAAEAAACMAPD/AAACAAEAAACJAO//AAACAAEAAACMAO//AAACAAEAAACJAO7/AAACAAEAAACKAO7/AAACAAEAAACLAO7/AAACAAEAAACMAO7/AAACAAEAAACJAO3/AAACAAEAAACKAO3/AAACAAEAAACLAO3/AAACAAEAAACMAO3/AAACAAEAAACLAO//AAACAAEAAACKAO//AAACAAEAAACKAPD/AAACAAEAAACKAOz/AAACAAEAAACLAOz/AAACAAEAAACKAOv/AAACAAEAAACLAOv/AAACAAEAAACKAOr/AAACAAEAAACLAOr/AAACAAEAAACKAOn/AAACAAEAAACLAOn/AAACAAEAAACMAOn/AAACAAEAAACMAOr/AAACAAEAAACNAOn/AAACAAEAAACNAOr/AAACAAEAAACOAOn/AAACAAEAAACOAOr/AAACAAEAAACPAOn/AAACAAEAAACPAOr/AAACAAEAAACQAOn/AAACAAEAAACQAOr/AAACAAEAAACRAOn/AAACAAEAAACRAOr/AAACAAEAAACJAOn/AAACAAEAAACJAOr/AAACAAEAAACIAOn/AAACAAEAAACIAOr/AAACAAEAAACHAOn/AAACAAEAAACHAOr/AAACAAEAAACGAOn/AAACAAEAAACGAOr/AAACAAEAAACFAOn/AAACAAEAAACFAOr/AAACAAEAAAA=")
tile_set = ExtResource("3_86ohr")
script = ExtResource("4_gc4eq")

[node name="border" parent="." node_paths=PackedStringArray("rawTileData") instance=ExtResource("5_dw3cu")]
visible = false
z_index = -1
tile_map_data = PackedByteArray("AACIAA0AAQAAAAAAAACNAA0AAQAAAAAAAACIAAwAAQAAAAAAAACNAAwAAQAAAAAAAACIAAsAAQAAAAAAAACNAAsAAQAAAAAAAACIAAoAAQAAAAAAAACNAAoAAQAAAAAAAACIAAkAAQAAAAAAAACNAAkAAQAAAAAAAACIAAgAAQAAAAAAAACNAAgAAQAAAAAAAACIAAcAAQAAAAAAAACNAAcAAQAAAAAAAACIAAYAAQAAAAAAAACNAAYAAQAAAAAAAACIAAUAAQAAAAAAAACNAAUAAQAAAAAAAACIAAQAAQAAAAAAAACNAAQAAQAAAAAAAACHAA4AAQAAAAAAAACHABMAAQAAAAAAAACIABQAAQAAAAAAAACHABQAAQAAAAAAAACOAA4AAQAAAAAAAACOABMAAQAAAAAAAACNABQAAQAAAAAAAACOABQAAQAAAAAAAACPAA8AAQAAAAAAAACPABIAAQAAAAAAAACPABMAAQAAAAAAAACQABEAAQAAAAAAAACQABIAAQAAAAAAAACGAA8AAQAAAAAAAACGABIAAQAAAAAAAACGABMAAQAAAAAAAACFABEAAQAAAAAAAACFABIAAQAAAAAAAACJABUAAQAAAAAAAACIABUAAQAAAAAAAACMABUAAQAAAAAAAACNABUAAQAAAAAAAACKABYAAQAAAAAAAACJABYAAQAAAAAAAACLABYAAQAAAAAAAACMABYAAQAAAAAAAACFABAAAQAAAAAAAACFAA8AAQAAAAAAAACQAA8AAQAAAAAAAACQABAAAQAAAAAAAACPAA4AAQAAAAAAAACGAA4AAQAAAAAAAACHAA0AAQAAAAAAAACOAA0AAQAAAAAAAACFAPf/AQAAAAAAAACFAPb/AQAAAAAAAACGAPb/AQAAAAAAAACFAPj/AQAAAAAAAACHAPb/AQAAAAAAAACFAPn/AQAAAAAAAACGAPr/AQAAAAAAAACFAPr/AQAAAAAAAACHAPr/AQAAAAAAAACIAPb/AQAAAAAAAACIAPr/AQAAAAAAAACIAPL/AQAAAAAAAACIAPH/AQAAAAAAAACJAPH/AQAAAAAAAACIAPP/AQAAAAAAAACKAPH/AQAAAAAAAACIAPT/AQAAAAAAAACIAPX/AQAAAAAAAACLAPH/AQAAAAAAAACMAPH/AQAAAAAAAACNAPH/AQAAAAAAAACNAPL/AQAAAAAAAACNAPP/AQAAAAAAAACNAPT/AQAAAAAAAACNAPX/AQAAAAAAAACNAPb/AQAAAAAAAACNAPr/AQAAAAAAAACOAPb/AQAAAAAAAACOAPr/AQAAAAAAAACPAPb/AQAAAAAAAACPAPr/AQAAAAAAAACQAPb/AQAAAAAAAACQAPf/AQAAAAAAAACQAPj/AQAAAAAAAACQAPn/AQAAAAAAAACQAPr/AQAAAAAAAACIAPv/AQAAAAAAAACIAPz/AQAAAAAAAACIAP3/AQAAAAAAAACIAP7/AQAAAAAAAACIAP//AQAAAAAAAACIAAAAAQAAAAAAAACIAAEAAQAAAAAAAACIAAIAAQAAAAAAAACIAAMAAQAAAAAAAACNAPv/AQAAAAAAAACNAPz/AQAAAAAAAACNAP3/AQAAAAAAAACNAP7/AQAAAAAAAACNAP//AQAAAAAAAACNAAAAAQAAAAAAAACNAAEAAQAAAAAAAACNAAIAAQAAAAAAAACNAAMAAQAAAAAAAAA=")
rawTileData = NodePath("../caveFloor")

[node name="overview" type="RichTextLabel" parent="."]
visible = false
offset_left = 4350.0
offset_top = 979.0
offset_right = 4555.0
offset_bottom = 1103.0
theme_override_font_sizes/normal_font_size = 12
text = "level purpose
(what does this level teach or what does this level test)"

[node name="leverManager1" parent="." instance=ExtResource("7_7rso4")]

[node name="lever1" parent="leverManager1" instance=ExtResource("6_e4kec")]
material = SubResource("ShaderMaterial_j5plf")
position = Vector2(4448, -240)
animation = &"toggle"
frame_progress = 0.0
isOneShot = false

[node name="toggleArea1" parent="." instance=ExtResource("9_6uwq4")]
isActive = true

[node name="door" parent="toggleArea1" instance=ExtResource("8_hn7px")]
tile_map_data = PackedByteArray("AACNAPb/AQAAAAAAAACNAPf/AQAAAAAAAACNAPj/AQAAAAAAAACNAPn/AQAAAAAAAACNAPr/AQAAAAAAAAA=")

[node name="toggleArea1_2" parent="." instance=ExtResource("9_6uwq4")]

[node name="door_2" parent="toggleArea1_2" instance=ExtResource("8_hn7px")]
tile_map_data = PackedByteArray("AACIAPb/AQAAAAAAAACIAPf/AQAAAAAAAACIAPj/AQAAAAAAAACIAPn/AQAAAAAAAACIAPr/AQAAAAAAAAA=")

[node name="leverManager2" parent="." instance=ExtResource("7_7rso4")]

[node name="lever1_2" parent="leverManager2" instance=ExtResource("6_e4kec")]
material = SubResource("ShaderMaterial_h0mt4")
position = Vector2(4320, -240)
frame_progress = 0.640101

[node name="lever1_3" parent="leverManager2" instance=ExtResource("6_e4kec")]
material = SubResource("ShaderMaterial_4voo0")
position = Vector2(4577, -240)
frame_progress = 0.0

[node name="toggleArea2" parent="." instance=ExtResource("9_6uwq4")]
isActive = true

[node name="door_3" parent="toggleArea2" instance=ExtResource("8_hn7px")]
tile_map_data = PackedByteArray("AACIAPb/AQAAAAAAAACJAPb/AQAAAAAAAACKAPb/AQAAAAAAAACLAPb/AQAAAAAAAACMAPb/AQAAAAAAAACNAPb/AQAAAAAAAAA=")

[node name="leverManager3" parent="." instance=ExtResource("7_7rso4")]

[node name="lever1" parent="leverManager3" instance=ExtResource("6_e4kec")]
material = SubResource("ShaderMaterial_l07l4")
position = Vector2(4450, -567)
animation = &"toggle"
frame_progress = 0.0
isOneShot = false

[node name="lever1_2" parent="leverManager3" instance=ExtResource("6_e4kec")]
material = SubResource("ShaderMaterial_x60cv")
position = Vector2(4445, -483)
animation = &"toggle"
frame_progress = 0.0
isOneShot = false

[node name="lever1_3" parent="leverManager3" instance=ExtResource("6_e4kec")]
material = SubResource("ShaderMaterial_lyn8m")
position = Vector2(4445, -525)
animation = &"toggle"
frame_progress = 0.0
isOneShot = false

[connection signal="setState" from="leverManager1" to="toggleArea1" method="toggle"]
[connection signal="setState" from="leverManager1" to="toggleArea1_2" method="toggle"]
[connection signal="setState" from="leverManager2" to="toggleArea2" method="toggle"]
